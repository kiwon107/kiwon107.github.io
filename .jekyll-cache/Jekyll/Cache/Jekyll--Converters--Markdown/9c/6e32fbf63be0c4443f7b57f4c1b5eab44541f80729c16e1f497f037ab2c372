I"<p>본 포스팅은 “모두의 네트워크” 책 내용을 기반으로 작성되었습니다.
잘못된 내용이 있을 경우 지적해 주시면 감사드리겠습니다.</p>

<h2 id="17-1-네트워크-간의-연결-구조">17-1. 네트워크 간의 연결 구조</h2>

<p class="align-center"><img src="/assets/images/comm/17-1.png" alt="그림 17-1. OSI 모델의 네트워크 계층" /></p>
<p>그림 17-1. OSI 모델의 네트워크 계층</p>

<p>앞에서 데이터 링크 계층은 이더넷 규칙으로 데이터 전송을 담당한다고 했다. 이 규칙을 이용하면 네트워크에 있는 컴퓨터로는 데이터를 전송할 수 있다. 그러나 인터넷 또는 다른 네트워크로 데이터를 전송할 수는 없다.</p>

<p class="align-center"><img src="/assets/images/comm/17-2.png" alt="그림 17-2. 수많은 네트워크가 연결된 환경" /></p>
<p>그림 17-2. 수많은 네트워크가 연결된 환경</p>

<p>모든 컴퓨터를 하나의 네트워크 안에 둘 수는 없다. 네트워크 A~E를 연결해서 통신할 수는 없을까? <strong>네트워크 계층</strong>은 네트워크 간 통신을 가능하게 한다. 이 계층을 통해 다른 네트워크로 데이터를 전송하려면 <strong>라우터</strong>라는 네트워크 장비가 필요하다.</p>

<p>라우터를 설치하면 인터넷에 연결할 수 있고, 해외로도 데이터를 보낼 수 있다. 라우터는 데이터의 목적지가 정해지면 해당 목적지까지 어떤 경로로 가는 것이 좋은지를 알려 주는 기능을 한다. 그러나 데이터를 보내려는 상대가 어디에 있는지 모르면 라우터도 목적지까지 경로를 알려주지 못한다. 따라서 네트워크에서도 데이터를 보내려면 목적지 주소가 반드시 있어야 한다. 네트워크를 식별할 수 있는 주소가 바로 <strong>IP 주소</strong> 이다.</p>

<p class="align-center"><img src="/assets/images/comm/17-3.png" alt="그림 17-3. IP 주소" /></p>
<p>그림 17-3. IP 주소</p>

<p>IP 주소는 어떤 네트워크의 어떤 컴퓨터인지 구분할 수 있도록 하는 주소이다. IP 주소가 있으면 다른 네트워크에 있는 목적지를 지정할 수 있다. 그런데 목적지 지정 외에도 데이터를 어떤 경로로 보낼지도 결정해야 한다. 목적지 IP 주소까지 어떤 경로로 데이터를 보낼지 정하는 것을 <strong>라우팅</strong>이라 한다. 라우팅은 라우터라는 장비가 한다.</p>

<p class="align-center"><img src="/assets/images/comm/17-4.png" alt="그림 17-4. 라우터" /></p>
<p>그림 17-4. 라우터</p>

<p>라우터를 사용하여 거리에 관계없이 다른 네트워크로 데이터를 보낼 수 있다. 라우터는 <strong>라우팅 테이블</strong>을 가지고 있어, 경로 정보를 등록하고 관리한다.</p>

<h2 id="17-2-ip란">17-2. IP란?</h2>
<p><strong>IP(Internet protocol)</strong>가 있기에 라우터가 다른 네트워크에 있는 목적지까지 데이터를 보낼 수 있다. 네트워크 계층에서 캡슐화할 때, <strong>IP 헤더</strong>를 붙힌다. 실제 IP 헤더는 버전, 헤더 길이, 서비스 유형, 전체 패킷 길이, ID(일련번호), 조각 상태(Flags), 조각 위치, TTL, 프로토콜, 헤더 체크섬, 출발지 IP 주소, 목적지 IP 주소 순서로 정보를 구성한다.</p>

<p>이렇게 IP 헤더가 추가되어 만들어진 것을 <strong>IP 패킷</strong> 이라 한다(데이터 링크 계층에서는 프레임이라 했다!).</p>
:ET